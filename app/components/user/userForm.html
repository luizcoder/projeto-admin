
<div class="modal-header">
  <button type="button" class="close" ng-click="fechar()" aria-label="Close"><span aria-hidden="true">&times;</span></button>
  <h4 class="modal-title">Usuário</h4>
</div>
<div class="modal-body">

  <uib-alert ng-repeat="alert in alerts" type="{{alert.type}}" close="closeAlert($index)">{{alert.msg}}</uib-alert>

  <form role="form" name="usuarioForm">
    <!-- Nome do usuário-->
    <div class="form-group">
      <label>Nome </label>
      <input type="text" class="form-control" ng-model="registro.name" ng-readonly="registro.readOnly" placeholder="Enter ...">
    </div>

    <!-- Email do usuário-->
    <div class="form-group">
      <label>E-mail</label>
      <input type="text" class="form-control" ng-model="registro.email" ng-readonly="registro.readOnly" placeholder="Enter ...">
    </div>

    <!-- Status do registro-->
    <div class="form-group">
      <label>Status</label>
      <select class="form-control" ng-readonly="registro.readOnly">
        <option>Ativo</option>
        <option>Inativo</option>
      </select>
    </div>
    <div class="form-group">
        <label>Perfis</label>
        <select class="form-control select2" ng-model="registro.perfis" multiple="multiple" data-placeholder="Selecione ou mais perfis" style="width: 100%;">
          <option ng-repeat="item in listaPerfis" value="{{item.id}}">{{item.nome}}</option>
        </select>
    </div>
 </form>
 <!-- Resetar senha -->
 <form name="userPasswordForm">
    <div  class="box box-warning">
      <div class="box-header with-border">
        <h3 class="box-title">Resetar senha</h3>
      </div><!-- /.box-header -->
      <div class="box-body">

        <div class="form-group">
          <label>Senha </label>
          <input type="password" autocomplete="off" name="password" ng-minlength="6" required class="form-control" ng-model="registro.password"  ng-readonly="registro.readOnly" >
        </div>

        <div class="form-group">
          <label>Confirmação de senha</label>
          <input type="password" autocomplete="off" name="password_confirmation" ng-minlength="6" required  class="form-control" ng-model="registro.password_confirmation"  ng-readonly="registro.readOnly" match="registro.password" >
        </div>
        <div  ng-show="userPasswordForm.$invalid">
            <p class="text-danger" ng-show="userPasswordForm.password_confirmation.$error.match">A senha não confere!</p>
            <p class="text-danger" ng-show="userPasswordForm.password.$error.minlength">Sua senha deve conter no mínimo 6 caracteres!</p>
        </div>

        <div class="form-group">
            <button ng-disabled="xhr || userPasswordForm.$invalid" type="button" class="btn btn-warning" ng-click="salvarSenha()"> Salvar nova senha</button>
        </div>

      </div><!-- /.box-body -->
  </div><!-- /.box -->
 </form><!-- /.form -->
 <div class="box box-danger">
  <div class="box-header with-border">
    <h3 class="box-title">Cuidado</h3>
  </div><!-- /.box-header -->
  <div class="box-body">
    <div class="form-group" role="group" aria-label="...">
      <label> Deseja excluír este usuário? </label>
    </div>
    <div class="btn-group clear" role="group" aria-label="...">
      <button type="button" class="btn btn-danger" ng-click="excluir()"  ng-disabled="registro.readOnly">Excluir usuário</button>
    </div>
  </div><!-- /.box-body -->
 </div><!-- /.box -->
</div><!-- /.modal-body -->
<div class="modal-footer text-right">
  <button ng-disabled="xhr || registro.readOnly" type="button" class="btn btn-success" ng-click="salvar()">Salvar Alterações</button>
  <button type="button" class="btn btn-default" ng-click="fechar()"  >Fechar</button>
</div>
